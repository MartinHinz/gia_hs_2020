<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>GIS in Archaeology</title>
    <meta charset="utf-8" />
    <meta name="author" content="Martin Hinz" />
    <script src="libs/header-attrs-2.3/header-attrs.js"></script>
    <link rel="stylesheet" href="../libs/default.css" type="text/css" />
    <link rel="stylesheet" href="../libs/default-fonts.css" type="text/css" />
    <link rel="stylesheet" href="../libs/customize.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

class: title-slide, center, middle


#  GIS in Archaeology

##  03 - Making Maps

###  Martin Hinz

####  Institut für Archäologische Wissenschaften, Universität Bern

30/09/20
.footnote[
.right[
.tiny[
based on [Datapolitan-Training/qgis-training](https://github.com/Datapolitan-Training/qgis-training)

You can download a [pdf of this presentation](gis_in_archaeology_03.pdf).
]
]
]

---
&lt;!-- opening shapefile --&gt;
#Let's Get Started
1. [Click this link](data/going_out_in_bern.zip) and download the 'going_out_in_bern' data to your desktop
2. [Click this link](data/bicycle_rent.csv) and download the csv data to your desktop
3. [Click this link](data/background.tiff) and download the background map also to your desktop
4. Open QGIS
5. Start a new project and Add all layers 

---

# Selecting Points
![:width 70%](images/select1.png)

---

# Selecting Points
![:width 45%](images/select2.png)

--
+ Click the point
![:width 45%](images/select3.png)

---

# Selecting Points
![:width 20%](images/select4.png)

![:width 70%](images/select5.png)

---

# Selecting Points - Attribute Table
![:width 50%](images/select6.png)![:width 50%](images/select7.png)

---
# Selecting Points - Saving Selection

![img-right-65](images/select8.png)

---

# Selecting Points - Saving Selection

+ If we wanted to reproject the data into a different CRS, we could do that here

--

![:width 50%](images/select9.png)
--

+ Pick the new projection in the CRS field (like when we imported the CSV)
+ You can also export your CSV file as shape file - making further adding to the map easier

---

# Selecting Points - Saving Selection as CSV

+ If we wanted analyse our data using eg. statistical software, we also can export as csv.

--

![:width 50%](images/export_csv1.png)
--

+ If you like to export the coordinates, you can select that at 'Layer options'

---
# Styling points according to data
+ can be used to map different categories within a vector dataset
+ is available for all kinds of vector data

---
# Styling points according to data

![:width 50%](images/style_categories_01.png)![:width 50%](images/style_categories_02.png)

+ Select Properties
+ Go to Symbology and change 'Single Symbol' to 'Categorised'
---
# Styling points according to data

![:width 50%](images/style_categories_03.png)![:width 50%](images/style_categories_04.png)

+ Select the data (column) that represents your categories
+ Select 'Classify'
+ Enjoy the result
+ You can the colors according to your needs

---

## Installing Plugins
+ QGIS has many third party functionality available
+ We will use some of them in the course
+ let's get some Background with QuickMapServices

![:width 50%](images/install_plugin1.png)![:width 50%](images/install_plugin2.png)

---
## Basemaps (QuickMapServices)

+ Satellite imagery
+ Map services
+ ...
+ Fast and easy way to get background maps

![:width 50%](images/install_plugin4.png)![:width 50%](images/install_plugin5.png)


---

# Setting Up QuickMapServices Plugin
+ Go to the Settings Menu
![:width 50%](images/basemap4.png)

---

# Setting Up QuickMapServices Plugin
+ Get the contributed packs

![:width 50%](images/basemap5_box.png)

---

# Setting Up QuickMapServices Plugin
+ Revel in all the beautiful base maps
.right[
![:width 22%](images/basemap6.png)
]
---
# Choosing a Base Map
--

+ Think about what someone reading your map needs to see for context
--

+ Think about how the base map interacts with the data on your map

---

# Base Maps - Hierarchy
--

+ If your data is the most important part of the map, make sure it looks more important than the base map
--

+ Avoid base maps that strongly emphasize features that aren't relevant on your map

---

# Base Maps - Colors
--

+ Choose base maps with colors that complement the colors on your map
--

+ The contrast between the color on your map and the color on the base map should be enough to make your layers clearly visible

---

# Base Maps - Scale

![img-center-55](images/scale.jpg)

#### Source: http://go.owu.edu/~jbkrygie/krygier_html/geog_222/geog_222_lo/geog_222_lo04.html

---

# Base Maps - Scale
+ Base maps show different levels of detail at different scales
--

+ Make sure the level of detail is appropriate to your map

---

## Scale

![img-center-80](images/scale-basemap.png)

---

## Scale

![img-center-80](images/scale-basemap-denver.png)

---

# Your Turn
+ Find a good base map for your data
+ Think about hierarchy, color, and scale
+ Don't be afraid to play around

---
## Print Composer
--

+ How you make exportable and printable maps in QGIS
--

+ Able to add map elements (legends, scales, text, etc)

---

## Create a new print composer

![:width 45%](images/print_comp2.png)
--
![:width 45%](images/print_comp3.png)

---

## You are greeted with a blank slate

![:width 80%](images/print_comp4.png)

---

## Add New Map tool will add your current map
![:width 45%](images/print_comp5_box.png)
--
![:width 45%](images/print_comp6.png)

---

## Customize item properties on the right
.center[
![:width 35%](images/print_comp7.png)
]
---

## Don't forget a title and your sources

![:width 45%](images/print_comp8_box.png)
![:width 45%](images/print_comp9.png)

---
## Adding North Arrow

![:width 45%](images/north_arrow1.png)
![:width 45%](images/north_arrow2.png)
+ You can select from multiple arrow types
---
## Adding Scale bar

![:width 45%](images/print_scale_1.png)
![:width 45%](images/print_scale_2.png)
---
## Adding Scale bar

+ You can also select and customize different styles of scale bars

.center[
![:width 45%](images/print_scale_3.png)
]

---

## There are a few exporting options

.center[
![:width 45%](images/print_comp10.png)
]

---

## Now you can share your map or print it

.center[
![:width 80%](images/final_map.png)
]

---

# Print Composer Problems
+ Map extent -&gt; "Use current map extent"
+ Moving map around -&gt; Adjust with arrows

---

# What We've Covered
--

+ Selecting features
--

+ Exporting data
--

+ Making Maps

---

# Homework
+ Filter for service requests in your borough
+ Try and find something interesting
+ Change the style of the point, either to a different shape, color, or icon
+ Export your selection as a new shapefile
+ Get a background map
+ Make a decent Map
+ Send me an exported map (png or pdf)

---
class: inverse, middle, center
# Any questions?

![:width 20%](images/grumpy_lane.jpg)

.caption[Source: https://www.instagram.com/sadtopographies]

.footnote[
.right[
.tiny[
You might find the course material (including the presentations) at

https://github.com/MartinHinz/gia_hs_2020

You can see the rendered presentations at

http://martinhinz.github.io/gia_hs_2020

You can contact me at

&lt;a href="mailto:martin.hinz@iaw.unibe.ch"&gt;martin.hinz@iaw.unibe.ch&lt;/a&gt;
]
]
]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="../libs/remark-latest.min.js"></script>
<script src="../libs/macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"fig_caption": true,
"ratio": "16:10"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
